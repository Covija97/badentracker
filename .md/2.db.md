![](https://raw.githubusercontent.com/jcorvid509/.resGen/9cf65965f880c39d5e634d73522a6d656c4ea501/_bannerD.png#gh-dark-mode-only)
![](https://raw.githubusercontent.com/jcorvid509/.resGen/9cf65965f880c39d5e634d73522a6d656c4ea501/_bannerL.png#gh-light-mode-only)

<a href="/.md/readme.md"><img src="https://raw.githubusercontent.com/jcorvid509/.resGen/9cf65965f880c39d5e634d73522a6d656c4ea501/_back.svg" height="30"></a>

# üóÑÔ∏è Dise√±o de la base de datos (5h)

```mermaid
gantt
    dateFormat  DDD
    axisFormat %j

    section Database<br>(5h)
    Dise√±o de esquema SQL       : 01-06, 2d
    Crear tablas                : 01-08, 2d
    Configurar relaciones       : 01-10, 1d
```

## üéØ Base de datos de Actividades<a href="../.res/db/act_tables.sql"><img src="https://raw.githubusercontent.com/jcorvid509/.resGen/dbf0397a38c3e0828d9bd164f719d77f3d977cda/_arrow.svg" height="30" align="right"></a>

### üìã Esquemas de datos (Diagrama ER)

```mermaid
erDiagram
    
    act {
        int act_id
        str act_name
        str act_desc
        time act_durat
    }

    obj {
        int obj_id
        str obj_name
        str obj_desc    
    }

    cat {
        int cat_id
        str cat_name
        str cat_desc    
    }

    mat {
        int mat_id
        str mat_name
        str mat_desc    
    }

    act_obj {
        int act_id
        int obj_id
    }

    act_cat {
        int act_id
        int cat_id
    }

    act_mat {
        int act_id
        int mat_id
    }

    act ||--o{ act_obj : ""
    obj ||--o{ act_obj : ""

    act ||--o{ act_cat : ""
    cat ||--o{ act_cat : ""

    act ||--o{ act_mat : ""
    mat ||--o{ act_mat : ""
```

### üõ†Ô∏è Modelos de datos en SQL (Actividades)

```sql
/* Tabla de actividades */
CREATE TABLE IF NOT EXISTS act(  
    act_id      int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    act_name    varchar(50) NOT NULL    UNIQUE,
    act_desc    varchar(255),
    act_durat   time(0)
);

/* Tabla de objetivos */
CREATE TABLE IF NOT EXISTS obj(  
    obj_id      int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    obj_name    varchar(50) NOT NULL    UNIQUE,
    obj_desc    varchar(255)
);

/* Tabla de categorias de actividades */
CREATE TABLE IF NOT EXISTS cat(  
    cat_id      int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    cat_name    varchar(50) NOT NULL    UNIQUE,
    cat_desc    varchar(255)
);

/* Tabla de materiales */
CREATE TABLE IF NOT EXISTS mat(  
    mat_id      int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    mat_name    varchar(50) NOT NULL    UNIQUE,
    mat_desc    varchar(255)
);
```

### üîó Relaciones entre modelos (Actividades)

```sql
/* Tabla entre actividades y objetivos */
CREATE TABLE IF NOT EXISTS act_obj(
    act_id      int     NOT NULL,
    obj_id      int     NOT NULL,
    PRIMARY KEY (act_id, obj_id),
    FOREIGN KEY (act_id)    REFERENCES act(act_id)  ON DELETE CASCADE,
    FOREIGN KEY (obj_id)    REFERENCES obj(obj_id)  ON DELETE CASCADE
);

/* Tabla entre actividades y categorias */
CREATE TABLE IF NOT EXISTS act_cat(
    act_id      int     NOT NULL,
    cat_id      int     NOT NULL,
    PRIMARY KEY (act_id, cat_id),
    FOREIGN KEY (act_id)    REFERENCES act(act_id)  ON DELETE CASCADE,
    FOREIGN KEY (cat_id)    REFERENCES cat(cat_id)  ON DELETE CASCADE
);

/* Tabla entre actividades y materiales */
CREATE TABLE IF NOT EXISTS act_mat(
    act_id      int     NOT NULL,
    mat_id      int     NOT NULL,
    PRIMARY KEY (act_id, mat_id),
    FOREIGN KEY (act_id)    REFERENCES act(act_id)  ON DELETE CASCADE,
    FOREIGN KEY (mat_id)    REFERENCES mat(mat_id)  ON DELETE CASCADE
);
```

---

## üìÖ Base de datos de Reuniones<a href="../.res/db/reu_tables.sql"><img src="https://raw.githubusercontent.com/jcorvid509/.resGen/dbf0397a38c3e0828d9bd164f719d77f3d977cda/_arrow.svg" height="30" align="right"></a>

### üìã Esquemas de datos (Diagrama ER)

```mermaid
erDiagram

    prog {
        int prog_id
        date prog_date
        time prog_time
        str prog_coord
        str prog_place
        int prog_child_N
        int grp_id
        int rama_id
        LONGBLOB responsibles
    }

    rama {
        int rama_id
        str rama_name
    }

    grps {
        int grp_id
        str grp_name
        str grp_address
        LONGBLOB grp_info
    }

    prog_act {
        int prog_id
        int act_id
        int act_order
        str act_respon
    }

    prog ||--o{ prog_act : ""
    act  ||--o{ prog_act : ""
    prog ||--o{ grps : ""
    prog ||--o{ rama : ""
```

### üõ†Ô∏è Modelos de datos en SQL (Reuniones)

```sql
/* Tabla de ramas */
CREATE TABLE IF NOT EXISTS rama (
    rama_id     int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    rama_name   varchar(50) NOT NULL
);

/* Tabla de grupos */
CREATE TABLE IF NOT EXISTS grps (
    grp_id      int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    grp_name    varchar(50) NOT NULL,
    grp_address varchar(99) NOT NULL,
    grp_info    LONGBLOB    NOT NULL
);

/* Tabla de programaciones de reuniones */
CREATE TABLE IF NOT EXISTS prog (
    prog_id     int         NOT NULL    PRIMARY KEY AUTO_INCREMENT,
    prog_date   date        NOT NULL,
    prog_time   time        NOT NULL,
    prog_coord  varchar(50) NOT NULL,
    prog_place  varchar(50) NOT NULL,
    prog_child_N int        NOT NULL,
    grp_id      int         NOT NULL,
    rama_id     int         NOT NULL,
    responsibles LONGBLOB   NOT NULL,
    FOREIGN KEY (grp_id)    REFERENCES grps (grp_id),
    FOREIGN KEY (rama_id)   REFERENCES rama (rama_id)
);
```

### üîó Relaciones entre modelos (Reuniones)
``` SQL
/* Tabla entre programaci√≥n y actividades */
DROP TABLE IF EXISTS prog_act;
CREATE TABLE IF NOT EXISTS prog_act(
    prog_id     int         NOT NULL,
    act_id      int         NOT NULL,
    act_order   int         NOT NULL,
    act_respon  varchar(50) NOT NULL,
    PRIMARY KEY (prog_id, act_id),
    FOREIGN KEY (prog_id)   REFERENCES prog(prog_id)    ON DELETE CASCADE,
    FOREIGN KEY (act_id)    REFERENCES act(act_id)      ON DELETE CASCADE
);
```
